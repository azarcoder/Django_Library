{% extends "index.html" %}
{% block content %}
<div class="container-fluid" style="margin-top: 50px;">
    <div class="row">
        <div class="col-md-4 mx-auto">
            <form action="/returning/" method="post" id="lend-book-form" autocomplete="off">
                {% csrf_token %}
                <h3 class="page-header text-primary text-center"><i class="fa fa-edit"> Return Book</i></h3>
                <div class="form-group my-3">
                    <label for="book-select">Select Book:</label>
                    <select class="form-control" id="book-select" name="bookid">
                        {% for i in book %}
                                <option value="{{ i.id }}">{{ i.bookId }} - {{ i.bookName }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <input type="submit" class="btn btn-primary w-100 my-5" value="Lend">
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    document.getElementById('lend-book-form').addEventListener('submit', function(event) {
        var selectedOption = document.getElementById('book-select').value;
        // Update the form action URL to include the selected book ID
        this.action = "/returning/" + selectedOption + "/";
    });
</script>
{% endblock %}
